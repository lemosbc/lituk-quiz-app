{% extends 'quiz/base.html' %} {% block content %}

<div class="container mt-4 d-flex justify-content-center p-2">
  <div>
  <div class="mb-5">
<h1><a href="/">Life in the UK Quiz</a></h1>
</div>
<div id="displaytimer"><b>Timer 45:00</b></div>
<div>
<form action="" method="POST" role="form">
  
    {% csrf_token %} {% for question in questions %}
    <div class="mb-3 mt-3">
      <h5>Question {{ forloop.counter }}</h5>
    <h5 class="question-title">{{ question.question }}</h5>
    </div>
    <div class="mb-4">
      <div class="py-1">
    <label class="form-check-label px-2" for="op1"><input
      type="radio"
      id="quiz"
      name="{{question.question}}"
      value="{{question.op1}}"
      class="form-check-input"
    />{{ question.op1 }}</label><br /></div>
    <div class="py-1">
    <label class="form-check-label px-2" for="op2"><input
      type="radio"
      id="quiz"
      name="{{question.question}}"
      value="{{question.op2}}"
      class="form-check-input"
    />{{ question.op2 }}</label><br /></div>
    <div class="py-1">
    <label class="form-check-label px-2" for="op3"><input
      type="radio"
      id="quiz"
      name="{{question.question}}"
      value="{{question.op3}}"
      class="form-check-input"
    />{{ question.op3 }}</label><br /></div>
    <div class="py-1">
    <label class="form-check-label px-2" for="op4"><input
      type="radio"
      id="quiz"
      name="{{question.question}}"
      value="{{question.op4}}"
      class="form-check-input"
    /><span class="question-option">{{ question.op4 }}</span></label><br /></div>
  </div>
  
    {% endfor %}
    <input id='timer' type='hidden' name="timer" value="">
    <div>
    
    <button type="submit" class="btn flag-red text-white mt-3" name="quiz-submit" id="submit-btn">Submit</button>
  </div>
  </div>
</div>
</form>

{% block script %}
        <script>
            const timer = document.getElementById('displaytimer')
            console.log(timer.textContent)
            const inputTag = document.getElementById('timer')
 
            t = 2700 /* Sets a 45 min timer */
            setInterval(()=>{
                --t
                var seconds = t % 60;
                var secondsInMinutes = (t - seconds) / 60;
                var minutes = secondsInMinutes % 60;
                timer.innerHTML ="<b>Timer " + minutes + ":" + seconds;
                inputTag.value = t
            },1000)
        </script>
    {% endblock script %}

</div>
</div>


{% endblock %}
 
            
